{% extends 'rest_framework/api.html' %}
{% load staticfiles %}
{% load rest_framework %}
{% load i18n %}
{% load internal_extras %}
{% load data_browser_tag %}
{% block title %}Data Browser{% endblock %}
{% block head-extra %}

{% endblock %}

{% block page_title %}Data Browser{% endblock %}
{% block useful_links %}
<li role="presentation"><a href="{% url 'schema:schema-list' %}">Schema Browser</a></li>
<li role="presentation" class="disabled"><a href="{% url 'documentation:topic-detail' slug='schema-browser' %}" disabled>Documentation</a></li>
{% endblock useful_links %}

{% block content_render %}
<div class="row">
    <div class="col-xs-12 col-sm-3 sidebar">
        <h5>Page Contents</h5>
        <div class="sidebar-contents">
            <ul class="nav nav-pills nav-stacked docs-sidebar">
                <li role="presentation"><a class="scroll" href="#data-access">Data Access</a></li>
                <li role="presentation"><a href="#what-does-the-data-browser-do" class="scroll">What does the Data Browser do?</a></li>
            </ul><br>
            <h5>Quick Links</h5>
            <ul class="nav nav-pills nav-stacked docs-sidebar">
                {% for value in response.data.samples %}
                <li role="presentation"><a href="{{value.survey}}/"><span>Browse {{value.survey|uppercase}} Data
                <i class="fa fa-angle-right"></i></span></a></li>
                {% endfor %}
            </ul>
            <br>
            <h5>All Tools</h5>
            <ul class="nav nav-pills nav-stacked docs-sidebar">
                <li class="text-uppercase heading no-margin-top">
                    <h6>Data Access</h6>
                </li>

                <li role="presentation"><a href="{% url 'data_browser:root-list' %}">Data Browser</a></li>
                <li role="presentation" class="disabled"><a class="sub-heading">Data Explorer</a></li>
                <li role="presentation" class="disabled"><a class="sub-heading" href="{% url 'query-create-list' %}">Query
                    Builder
                    (SQL)</a></li>

                <li class="text-uppercase no-margin-top">
                    <h6>Schema</h6>
                </li>
                <li role="presentation"><a href="{% url 'schema:schema-list' %}">Schema Browser</a></li>
            </ul>
        </div>
    </div>

    <div class="col-xs-12 col-sm-9 main-content">
        <h2>Discover the survey data products hosted at AAODC.</h2>
        <h3 id="data-access">Data Access</h3>

        <p class="lead">Browse the available survey data products and meta-data on an object-by-object basis. Provides a quick-look at
            the data products for a particular object, and allows you to download individual data products in fits
            format.</p>
        <p>Choose a survey from the list below to get started. To
            view more information about each survey's data products and derived properties, visit the <a
                    href="{% url 'schema:schema-list' %}">Schema
                Browser</a>.</p>
        <br>
        <div class="row">
            {% for value in response.data.samples %}
            <div class="col-xs-1 col-sm-offset-1 col-sm-1">
                <img class="img-responsive" src="/static/restapi_app/img/documentation/{{value.survey}}.png">
            </div>
            <div class="col-xs-11 col-sm-9">
                <h3 class="tool-header">{{value.survey | uppercase}}</h3>
                <span class="sub-heading">
                                    {{value.count}}
                                    objects
                                    <span class="version"><i class="fa fa-map-marker"></i> {{value.current_version}} Release</span>
                                </span>
                {% with "data_browser/root/surveys/"|add:value.survey|add:".html" as template %}
                {% include template %}
                {% endwith %}
                <a href="{{value.survey}}/" class="text-uppercase"><strong>Browse {{value.survey|uppercase}} Data
                    <i class="fa fa-angle-right"></i></strong></a>
            </div>
            <div class="col-xs-12">
                <br><br>
            </div>
            {% endfor %}
        </div>

        <h2 id="what-does-the-data-browser-do">What does the Data Browser do?</h2>
        <p>The Data Browser is a portal to all survey data hosted at AAODC. Surveys are a collection of astronomical
            objects. Each astronomical object's components are organised into a
            tree-like structure, allowing you to discover derived properties and data products, along with any
            associated meta-data.</p>

        <p>For certain types of data product (e.g., line maps) you can interact with the data directly in your browser.
            You can also download data products in fits format to work with offline using your favourite astronomy
            visualization software.</p>

        <p>For more information, including articles on Data Browser examples, head over to the <a disabled class="disabled"
                href="{% url 'documentation:topic-detail' slug='data-browser' %}">Data Browser Documentation</a>.</p>
    </div>
</div>
{% endblock %}


