{% extends 'rest_framework/api.html' %}
{% load staticfiles %}
{% load rest_framework %}
{% load i18n %}
{% load internal_extras %}
{% block title %}Shopping Cart{% endblock %}

{% block angular-ng-app-class %}ng-app="CartApp"{% endblock %}

{% block head-extra %}
<link rel="stylesheet" type="text/css" href="{% static 'cart/css/cart/cart.min.css' %}"/>

<script type="text/javascript" src="{% static 'restapi_app/js/angular/angular.1.5.0.js' %}"></script>
<script type="text/javascript" src="{% static 'restapi_app/js/angular/angular.1.5.0.cookies.js' %}"></script>
<script type="text/javascript" src="{% static 'restapi_app/js/angular/angular-sanitize.1.5.0.min.js' %}"></script>
<script type="text/javascript" src="{% static 'cart/js/app.js' %}"></script>
<script type="text/javascript" src="{% static 'cart/js/services.js' %}"></script>
<script type="text/javascript" src="{% static 'cart/js/controllers.js' %}"></script>
<script type="text/javascript" src="{% static 'cart/js/directives.js' %}"></script>

{% endblock %}

{% block breadcrumbs-outer %}
<ul class="breadcrumb ">
    <li class="active"><a href="{% url 'index' %}">Home</a></li>
    <li>Cart</li>
</ul>
{% endblock %}

{% block content_render %}
 {% verbatim %}
    <div class="container" ng-controller="CartController">
        <div class="row">
            <div class="col-xs-12">
                <h1 class="headline"><span>Cart</span></h1>
            </div>
            <div class="col-sm-8">
                <div class="panel panel-default" style="box-shadow: 1px 1px 2px rgba(0,0,0,0.05);">
                    <div class="panel-heading text-uppercase">
                        <strong> Cart </strong>
                        <svg version="1.1" class="icon pull-right" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15px" height="15px" viewbox="0 0 30 30">
                            <path d="M27.715,10.48l-2.938,6.312c-0.082,0.264-0.477,0.968-1.318,0.968H11.831
                                c-0.89,0-1.479-0.638-1.602-0.904l-2.048-6.524C7.629,8.514,8.715,7.933,9.462,7.933c0.748,0,14.915,0,16.805,0
                                C27.947,7.933,28.17,9.389,27.715,10.48L27.715,10.48z M9.736,9.619c0.01,0.061,0.026,0.137,0.056,0.226l1.742,6.208
                                c0.026,0.017,0.058,0.028,0.089,0.028h11.629l2.92-6.27c0.025-0.073,0.045-0.137,0.053-0.192H9.736L9.736,9.619z M13.544,25.534
                                c-0.819,0-1.482-0.662-1.482-1.482s0.663-1.484,1.482-1.484c0.824,0,1.486,0.664,1.486,1.484S14.369,25.534,13.544,25.534
                                L13.544,25.534z M23.375,25.534c-0.82,0-1.482-0.662-1.482-1.482s0.662-1.484,1.482-1.484c0.822,0,1.486,0.664,1.486,1.484
                                S24.197,25.534,23.375,25.534L23.375,25.534z M24.576,21.575H13.965c-2.274,0-3.179-2.151-3.219-2.244
                                c-0.012-0.024-0.021-0.053-0.028-0.076c0,0-3.56-12.118-3.834-13.05c-0.26-0.881-0.477-1.007-1.146-1.007H2.9
                                c-0.455,0-0.82-0.364-0.82-0.818s0.365-0.82,0.82-0.82h2.841c1.827,0,2.4,1.103,2.715,2.181
                                c0.264,0.898,3.569,12.146,3.821,12.999c0.087,0.188,0.611,1.197,1.688,1.197h10.611c0.451,0,0.818,0.368,0.818,0.818
                                C25.395,21.21,25.027,21.575,24.576,21.575L24.576,21.575z"></path>
                        </svg>
                    </div>
                    <div class="panel-body">

                        <div class="table-responsisve">
                            <table class="table table-condensed table-striped">
                                <colgroup>
                                    <col span="1" style="width: 35%;">
                                    <col span="1" style="width: 40%;">
                                    <col span="1" style="width: 15%;">
                                    <col span="1" style="width: 10%;">
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>Object</th>
                                    <th>Data</th>
                                    <th>URL</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Gal65406</td>
                                        <td>Velocity Map</td>
                                        <td><a href="" class="text-uppercase">View</a></td>
                                        <td><a role="button" class="text-normal pull-right"><i class="fa fa-times remove-cross"></i></a></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>HI Map</td>
                                        <td><a href="" class="text-uppercase">View</a></td>
                                        <td><a role="button" class="text-normal pull-right"><i class="fa fa-times remove-cross"></i></a></td>
                                    </tr>

                                </tbody>
                            </table>
                            <button class="btn btn-default text-error btn-sm js-tooltip pull-left text-uppercase" title="Delete all items in the cart" id="checkout-button" ng-click="emptyCart()">Empty Cart
                                                </button>
                            <button class="btn btn-primary btn-sm js-tooltip pull-right" title="Download data in the cart" id="checkout-button">DOWNLOAD
                                                </button>
                        </div>


                    </div>
                </div>
                <a href="{% url 'dummy-item' %}" class="btn btn-default">Add Items</a>
            </div>
            <div class="col-sm-4">
                <div class="panel panel-default warning">
                    <div class="panel-body">
                        <strong class="text-uppercase">Cart Empty</strong>
                        <p>Visit the <a type="button" class="" href="{% url 'sami-list' %}">Data Browser</a> or make a <a type="button" class="" href="{% url 'query-list' %}">Query</a> to add data!

                        </p>
                    </div>
                </div>
                <div class="panel panel-default">
                  <div class="panel-body">
                    <strong class="text-uppercase">Summary</strong>
                  </div>

                  <!-- List group -->
                  <ul class="list-group">
                      <li class="list-group-item"><strong>Total</strong></li>
                      <li class="list-group-item list-group-sub-item">Data<span class="badge">5</span>
                      </li>
                      <li class="list-group-item list-group-sub-item">Objects<span class="badge">2</span>
                      </li>
                      <li class="list-group-item"><strong>Per Survey</strong></li>
                    <li class="list-group-item list-group-sub-item">SAMI <span class="badge">2</span></li>
                    <li class="list-group-item list-group-sub-item">GAMA <span class="badge">3</span></li>
                  </ul>
                </div>
            </div>
            <div class="col-xs-12">
                show cookie contents

                <div class="col-md-3" ng-repeat="item in items">
                    <h2 ng-bind="item.ao"></h2>
                    <h4 ng-bind="item.title"></h4>
                    <div class="row">
                        <p ng-bind="item.url"></p>
                    </div>
                    <add-cart-button item="item"></add-cart-button>
                </div>
            </div>
        </div>
    </div>
 {% endverbatim %}

<script>
//var app = angular.module('ShoppingCartApp', []);
//    app.controller('myCtrl', function($scope, $location){
//        console.log($location.absUrl());
//        console.log('here');
//    })
</script>
{% endblock %}